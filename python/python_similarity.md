# 🎯 왜 콘텐츠 기반 추천에서 코사인 유사도를 사용할까?

---

## 1️⃣ 코사인 유사도란?

- 두 벡터 간의 **각도(angle)** 를 기준으로 유사도를 측정하는 방법
- 공식 이미지:

- 결과값은 **-1 ~ 1 사이**  
  - 1: **방향이 완전히 같음 → 매우 유사**  
  - 0: **서로 수직 → 관련 없음**  
  - -1: **완전히 반대 방향 → 매우 다름**

---

## 2️⃣ 왜 코사인 유사도를 사용하는가?

### ✅ (1) **크기가 아닌 방향성에 집중**
- 콘텐츠 기반 벡터는 보통 **0/1 이진값**이나 **정규화된 값**으로 구성
- 벡터의 **절대 크기보다는 속성의 패턴(방향)** 을 파악하는 것이 중요
- 예시:  
  `[1, 0, 1]` vs `[10, 0, 10]` → 유클리디안 거리: 멀다 / 코사인 유사도: 동일

### ✅ (2) **희소 벡터(sparse vector)에 강함**
- 원-핫 인코딩 등으로 생성된 벡터는 대부분 0이 많음
- 코사인 유사도는 **0이 많은 벡터에도 잘 작동**

### ✅ (3) **정규화 필요 없음**
- 유클리디안 거리, 맨해튼 거리 등은 각 feature의 단위 차이 때문에 정규화 필요
- 코사인 유사도는 **방향만 비교하므로 단위에 영향받지 않음**

---

## 3️⃣ 다른 유사도와 비교

| 유사도 종류      | 특징                                     | 콘텐츠 추천 적합도 |
|------------------|------------------------------------------|---------------------|
| 유클리디안 거리   | 크기 차이 민감, 정규화 필요              | ❌                   |
| 맨해튼 거리       | 축 기준 거리합, 정확도 낮음              | ❌                   |
| 자카드 유사도     | 집합 유사도, 이진값에만 사용 가능        | ⭕ 제한적             |
| **코사인 유사도** | 방향성 중심, 정규화 없이 희소 벡터에 강함 | ✅ 매우 적합          |

---

## 4️⃣ 유사도 값이 같게 나오는 이유는?

### 📌 상황 요약
- 유저 프로파일(User Profile)과 아이템 벡터(Item Profile)는  
  동일한 **차원 수(feature dimension)** 와 **척도(scale)** 를 갖는 벡터
- 유사도는 **두 벡터 간의 각도(방향성)** 으로만 결정됨

### 예시
- 유저가 좋아하는 아이템 3개를 평균 낸 벡터와,
- item5, item10 두 개의 아이템 벡터가 모두 **코사인 유사도 0.756**으로 나옴

#### 이유:
- item5와 item10은 유저가 선호한 속성과 **방향이 거의 동일**
- 즉, 같은 방향 → **같은 유사도 값**

---

## 5️⃣ '같은 척도'란?

| 개념         | 설명 |
|--------------|------|
| **척도(Scale)** | 모든 특성이 동일한 기준으로 표현됨 (ex. 0 또는 1) |

- 예: 색상, 크기, 무게, 가격 등 → one-hot 또는 구간화로 0~1 처리  
- 정규화된 상태에서 비교해야 공정하게 유사도를 계산할 수 있음

---

## 6️⃣ '같은 차원'이란?

| 개념         | 설명 |
|--------------|------|
| **차원(Dimension)** | 벡터가 가진 feature 수와 순서가 같음 |

- 유저 프로파일과 아이템 프로파일이 같은 속성 순서로 구성되어야 함  
  예: `[color_black, heavy, small, medium_price, ...]`

---

## ✅ 종합 결론

> 콘텐츠 기반 추천에서 코사인 유사도는  
> 🔹 **속성의 일치 패턴(방향성)** 을 파악하는 데 강하며  
> 🔹 **크기/스케일에 민감하지 않고**,  
> 🔹 **희소 벡터에도 잘 작동하며**,  
> 🔹 **정규화가 필요 없는 간편한 방식**  
> 이기 때문에 가장 널리 쓰이는 유사도 지표입니다.

